[gd_scene load_steps=4 format=2]

[ext_resource path="res://OurGuy.png" type="Texture" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends KinematicBody2D

export var _HorizontalVelocity := 300
export var _JumpForce := -600
export var _GravityVelocity := 300

var _IsJumping := false

func _ready():
	$JumpTimer.one_shot = true

func _process(delta):
	
 
	
	var finalVelocity : Vector2 = Vector2(0,_GravityVelocity)
	
	if Input.is_action_pressed(\"ui_right\"):
		finalVelocity.x += _HorizontalVelocity
	elif Input.is_action_pressed(\"ui_left\"):
		finalVelocity.x -= _HorizontalVelocity
	
	if Input.is_action_just_pressed(\"ui_accept\") && self.is_on_floor():
		_IsJumping = true
		$JumpTimer.start(.2)
	
	if _IsJumping:
		finalVelocity.y += _JumpForce
		self.move_and_slide(finalVelocity, Vector2.UP,true)
	else:
		self.move_and_slide_with_snap(finalVelocity, Vector2.DOWN*10 ,Vector2.UP,true)

"

[sub_resource type="CapsuleShape2D" id=2]
radius = 7.5
height = 16.2

[node name="OurGuy" type="KinematicBody2D"]
script = SubResource( 1 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 0, -79.7354 )
scale = Vector2( 5, 5 )
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( 0, -76.7354 )
scale = Vector2( 5, 5 )
shape = SubResource( 2 )

[node name="JumpTimer" type="Timer" parent="."]
